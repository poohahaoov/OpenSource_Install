#!/bin/bash
#### mvapich2-2.3.5 install ####

#---------------------------------------------------------------------------------------------------------------------

#advance preparatiogcc
#mvapich2-2.3.5 - PATH:/root/mvapich2-2.3.5

#---------------------------------------------------------------------------------------------------------------------

#mvapich2-2.3.5 install

#RHEL7.4
./configure --prefix=/apps/mpi/gcc/mvapich2-2.3.5 \
--with-ib-include=/usr/include/infiniband --with-ib-libpath=/usr/lib64 \
--with-arch_32=x86-64 --enable-languages=c,c++,objc,obj-c++,java,fortran,ada,go,lto \
--enable-plugin --enable-initfini-array --disable-libgcj --enable-gnu-indirect-function \
--with-tune=generic --with-arch_32=x86-64 --build=x86_64-redhat-linux | tee configure_result

#---------------------------------------------------------------------------------------------------------------------

#RHEL8.3
./configure --prefix=/apps/mpi/gcc/mvapich2-2.3.5 \
--with-ib-include=/usr/include/infiniband --with-ib-libpath=/usr/lib64 \
--with-arch_32=x86-64 --enable-languages=c,c++,objc,obj-c++,java,fortran,ada,go,lto \
--enable-plugin --enable-initfini-array --disable-libgcj --enable-gnu-indirect-function \
--with-tune=generic --with-arch_32=x86-64 --build=x86_64-redhat-linux

#---------------------------------------------------------------------------------------------------------------------

make all -j 64 2>&1 | tee make_result
make check -j 64 | tee make_check.result
make install
